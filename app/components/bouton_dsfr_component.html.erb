<% if @tag == :a %>
  <%= link_to @url, @params do %>
    <% content %>
  <% end %>
<% elsif @tag == :submit %>
  <% submit_value = @params.delete(:submit_value) %>
  <% opts = @params.merge(type: "submit", name: "commit", value: (submit_value || (content || @url).to_s.strip)) %>
  <%= button_tag opts do %>
    <%= content || @url %>
  <% end %>
<% elsif @tag == :button_with_form %>
  <%= button_to @url, @params do %>
    <% content %>
  <% end %>
<% else %>
  <%= button_tag @params.merge(type: "button") do %>
    <% content %>
  <% end %>
<% end %>
