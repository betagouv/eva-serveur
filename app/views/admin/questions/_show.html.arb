# frozen_string_literal: true

panel 'DÃ©tails de la question' do
  attributes_table_for question do
    row :id
    row :libelle
    row :nom_technique
    row :intitule
    row t('.label_type'), &:type
    row :modalite_reponse
    row :created_at
  end
end

if question.QuestionQcm?
  panel 'Choix' do
    reorderable_table_for question.choix do
      column :intitule
      column :type_choix
      column :audio do |transcription|
        if transcription.audio.attached?
          audio_tag(url_for(transcription.audio), controls: true)
        else
          div "Pas d'audio"
        end
      end
    end
  end
end

panel 'Transcriptions audios' do
  table_for question.transcriptions do
    column :ecrit
    column :categorie
    column :audio do |transcription|
      if transcription.audio.attached?
        audio_tag(url_for(transcription.audio), controls: true)
      else
        div "Pas d'audio"
      end
    end
  end
end
