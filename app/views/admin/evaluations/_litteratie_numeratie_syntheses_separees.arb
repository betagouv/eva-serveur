# frozen_string_literal: true

h2 class: 'text-center mb-5' do
  span t('admin.restitutions.niveaux_illettrisme.titre')
end

div class: 'row' do
  interpretations.each do |competence_niveau|
    competence = competence_niveau.keys.first
    niveau = competence_niveau[competence]
    scope = "admin.restitutions.niveaux_illettrisme.#{competence}"

    div class: 'col-auto badge' do
      div class: 'synthese-illettrisme-illustration mb-4' do
        code_niveau = t("#{niveau}.code", scope: scope)
        if pdf
          div wicked_pdf_image_tag "#{competence}.svg"
          div wicked_pdf_image_tag "niveau#{code_niveau}.svg" if niveau.present?
        else
          div image_tag "#{competence}.svg"
          div image_tag "niveau#{code_niveau}.svg", alt: "Niveau #{code_niveau}" if niveau.present?
        end
      end
    end
    div class: 'col' do
      h2 class: 'mb-3' do
        div t(:titre, scope: scope)
      end

      div do
        if niveau.present?
          md t("#{niveau}.description", scope: scope)
        else
          md t('admin.restitutions.pas_de_score')
        end
      end
    end
  end
end
