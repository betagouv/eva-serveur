# frozen_string_literal: true

div class: "page-beneficiaire" do
  div class: "row" do
    div class: "offset-2 col-8" do
      h2 render NomAnonymisableComponent.new(beneficiaire)
      div class: "panel" do
        t(".info")
      end
    end
  end

  render CartePartageCodeComponent.new(
    libelle_code: Beneficiaire.human_attribute_name("code_personnel"),
    code: beneficiaire.code_personnel,
    url: url_beneficiaire(beneficiaire.code_personnel),
    description: I18n.t("admin.beneficiaires.show.carte_partage_code.description")
  )

  if beneficiaire.evaluations_positionnement.present?
    render partial: "admin/beneficiaires/liste_evaluations_positionnement",
        locals: { beneficiaire: beneficiaire }
  end

  if beneficiaire.evaluations_diagnostic.present?
    render partial: "admin/beneficiaires/liste_evaluations_diagnostic",
        locals: { beneficiaire: beneficiaire }
  end
end
