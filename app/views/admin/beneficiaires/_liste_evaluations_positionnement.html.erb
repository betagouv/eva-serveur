<%= render PanelComponent.new(titre: t(".titre-evaluation-positionnement"), classes: "panel--beneficiaire") do %>
  <%= render TableauComponent.new(collection: beneficiaire.evaluations_positionnement.order(created_at: :desc)) do |tableau| %>
    <% tableau.colonne(titre: t(".created_at")) do |evaluation|%>
      <% evaluation.created_at.strftime("%d/%m/%Y") %>
    <%end %>

    <% tableau.colonne(titre: "Littératie") do |evaluation|%>
      <% niveau_litteratie = evaluation.positionnement_niveau_litteratie %>
      <% contenu = traduit_niveau(evaluation, :positionnement_niveau_litteratie) %>

      <%= render BadgeComponent.new(
        contenu: contenu,
        html_class: couleur_badges_positionnement(niveau_litteratie),
        display_icon: false
      ) %>
    <% end %>

    <% tableau.colonne(titre: "Numératie") do |evaluation|%>
      <% niveau_numeratie = evaluation.positionnement_niveau_numeratie %>
      <% contenu = traduit_niveau(evaluation, :positionnement_niveau_numeratie) %>

      <%= render BadgeComponent.new(
        contenu: contenu,
        html_class: couleur_badges_positionnement(niveau_numeratie),
        display_icon: false
      ) %>
    <% end %>
    <% tableau.colonne(td_class: "col-actions tableau-boutons-action") do |evaluation| %>
      <%= render MenuActionsComponent.new(
        { label: t("admin.evaluations.index.voir"), url: admin_evaluation_path(evaluation) },
        { label: t("admin.evaluations.index.modifier"), url: edit_admin_evaluation_path(evaluation) },
        { label: t("admin.evaluations.index.supprimer"), url: admin_evaluation_path(evaluation), method: :delete, data: { confirm: t("admin.evaluations.index.confirmation_suppression") } }
      ) %>
    <% end %>
  <% end %>
<% end %>
