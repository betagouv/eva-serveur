# frozen_string_literal: true

interpretations.each do |competence_niveau|
  competence = competence_niveau.keys.first
  niveau = competence_niveau[competence]
  scope = "admin.restitutions.niveaux_illettrisme.#{competence}"

  div class: 'col' do
    div class: 'synthese-illettrisme-illustration mb-4' do
      code_niveau = t("#{niveau}.code", scope: scope)
      if pdf
        span wicked_pdf_image_tag competence.to_s
        span wicked_pdf_image_tag "niveau#{code_niveau}" if niveau.present?
      else
        span image_tag competence
        span image_tag "niveau#{code_niveau}", alt: "Niveau #{code_niveau}" if niveau.present?
      end
    end
    h2 class: 'mb-3' do
      div t(:titre, scope: scope)
    end

    div do
      if niveau.present?
        md t("#{niveau}.description", scope: scope)
      else
        md t('admin.restitutions.pas_de_score')
      end
    end
  end
end
