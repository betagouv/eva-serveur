# frozen_string_literal: true

render 'card_confirmation_email' if current_compte.email_non_confirme?

if current_compte.validation_refusee?
  render 'validation_refusee'
elsif prise_en_main.en_cours?
  render partial: "admin/dashboard/prise_en_main/etape_#{prise_en_main.numero_etape}",
         locals: { campagne: campagnes.first }
elsif current_compte.validation_en_attente?
  render 'validation_necessaire'
end

if evaluations.present?
  columns do
    column do
      render 'evaluations', evaluations: evaluations
    end
    column do
      render 'actualites', actualites: actualites if actualites.present?
    end
  end
end

if campagnes.present?
  columns do
    render 'campagnes', campagnes: campagnes
  end
end

if comptes_en_attente.present? && can?(:autoriser, Compte)
  render 'modal_validation_comptes_en_attente'
end
