<script>
function affichePrePositionnement() {
  $('.positionnement').hide();
  $('.pre-positionnement').show();
}

function afficheEvaluationAvancee() {
  $('.pre-positionnement').hide();
  $('.positionnement').show();
}

function reinitialiseSelection() {
  $(".input-choix-option-personnalisation input").prop("checked", false );
}

function selectionne(choix, zoneAAfficher ) {
  $(`.${choix}`).click(function (e) {
    if (e.target.id) {
      $(`#${zoneAAfficher}`).show();
      $('html, body').animate({
        scrollTop: $(`#${zoneAAfficher}`).offset().top
      }, 300);
      const option_livraison = $("#campagne_options_personnalisation_livraison").parent();
      switch (e.target.id) {
        case "campagne_types_programme_positionnement":
          reinitialiseSelection()
          afficheEvaluationAvancee()
          break;
        case "campagne_types_programme_pre_positionnement":
          reinitialiseSelection()
          affichePrePositionnement()
          break;
        <% ParcoursType.includes(:situations_configurations, situations_configurations: :situation).all.each do |parcours_type| %>
        case "campagne_parcours_type_id_<%= parcours_type.id%>":
          <% if parcours_type.option_redaction?  %>
            option_livraison.show();
          <% else %>
            option_livraison.hide();
          <% end %>
            break;
        <% end %>
      }
    }
  })
}

document.addEventListener('DOMContentLoaded', () => {
  selectionne('input-choix-type-programme', 'zone-choix-parcours')
  selectionne('input-choix-option-parcours-type', 'zone-de-personnalisation')
});
</script>
