# frozen_string_literal: true

panel 'DÃ©tails de la question' do
  attributes_table_for question_qcm do
    row :id
    row :libelle
    row :categorie
    row :nom_technique
    row :description
    intitule = question_qcm.transcription_pour(:intitule)
    row :intitule do
      div intitule.ecrit if intitule&.ecrit
    end
    row :audio_intitule do
      audio_tag(url_for(intitule.audio), controls: true) if intitule&.audio&.attached?
    end
    consigne = question_qcm.transcription_pour(:modalite_reponse)
    row :consigne do
      div consigne.ecrit if consigne&.ecrit
    end
    row :audio_consigne do
      audio_tag(url_for(consigne.audio), controls: true) if consigne&.audio&.attached?
    end
    row :metacompetence
    row :type_qcm
    row :created_at
  end
end

panel 'Choix' do
  reorderable_table_for question_qcm.choix do
    column :intitule
    column :type_choix
    column :audio do |transcription|
      audio_tag(url_for(transcription.audio), controls: true) if transcription.audio.attached?
    end
  end
end
