# frozen_string_literal: true

div class: 'autopositionnement' do
  questions_et_reponses_standard = auto_positionnement.questions_et_reponses(:standard)
  div class: 'row question-standard' do
    div class: 'col' do
      render 'autopositionnement_situation'
    end
    div class: 'col' do
      render partial: 'autopositionnement_scolarite',
             locals: { questions_et_reponses_standard: questions_et_reponses_standard }
    end
  end
  div class: 'row question-standard' do
    div class: 'col' do
      render partial: 'autopositionnement_usage_du_numerique',
             locals: { questions_et_reponses_standard: questions_et_reponses_standard }
    end
    div class: 'col' do
      render partial: 'categorie_autopositionnement', locals: {
        categorie: t('.sante'),
        questions_reponses: questions_et_reponses_standard
      }
    end
  end
  h2 t('.questionnaire-auto-positionnement'), class: 'categorie'
  auto_positionnement.questions_et_reponses(:jauge).each do |question, reponse|
    div class: 'row' do
      div class: 'col intitule-question' do
        div question.intitule
      end
      div class: 'col' do
        div class: 'jauge' do
          div reponse.position, class: "position-#{reponse.position} puce"
        end
      end
    end
  end
end
