<div class="<%= input_group_classes %>" <%= tag.attributes(@html_options) %>>
  <label class="<%= label_classes %>" for="<%= input_id %>">
    <%= @label %><%= required_asterisk %>
    <% if @hint.present? %>
      <span class="fr-hint-text"><%= @hint %></span>
    <% end %>
  </label>
  
  <% if has_button? %>
    <div class="<%= input_wrap_classes %>">
      <% if is_select? %>
        <%= render_select_field %>
      <% elsif use_form_builder? %>
        <%= @form.public_send(form_builder_method, @method, input_attributes) %>
      <% else %>
        <%= tag.input(**input_attributes) %>
      <% end %>
      <button type="button" class="<%= button_classes %>"<%= " data-action='#{@button_action}'" if @button_action.present? %>>
        <%= @button_text %>
      </button>
    </div>
  <% else %>
    <% if is_select? %>
      <%= render_select_field %>
    <% elsif use_form_builder? %>
      <%= @form.public_send(form_builder_method, @method, input_attributes) %>
    <% else %>
      <%= tag.input(**input_attributes) %>
    <% end %>
  <% end %>
  
  <div class="fr-messages-group" id="<%= messages_id %>" aria-live="polite">
    <%= error_html %>
  </div>
  
  <% if has_link? %>
    <div class="input-component__link">
      <%= link_to @link_text, @link_url, { class: "input-component__link-text" }.merge(@link_html) %>
    </div>
  <% end %>
</div>

