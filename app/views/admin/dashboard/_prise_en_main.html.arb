# frozen_string_literal: true

etape_courante = campagnes.present? ? 1 : 0

etapes = [
  {
    lien: new_admin_campagne_path
  },
  {
    lien: Eva::DOCUMENT_PRISE_EN_MAIN,
    options_lien: { target: '_blank' }
  }
]

div class: 'prise-en-main' do
  div class: 'row' do
    div class: 'col-4 offset-2' do
      div class: 'evaluations-premiere-visite' do
        div class: 'premiere-visite-illustration' do
          h4 t('.titre')
          text_node image_tag 'avatar_bienvenue.png'
        end
        div class: 'premiere-visite-action' do
          etape = etapes[etape_courante]
          options = { class: 'action' }.merge(etape[:options_lien] || {})
          text_node md t(".etapes.#{etape_courante}.description")
          text_node link_to(t(".etapes.#{etape_courante}.action"), etape[:lien], options)
        end
      end
    end
  end
end
