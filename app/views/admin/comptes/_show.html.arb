# frozen_string_literal: true

div class: 'mon-compte row' do
  div class: 'offset-1 col-4' do
    if current_compte == compte
      h2 t('.titre', prenom: compte.prenom), class: 'titre-entete-page'

      render 'components/panel_introduction',
             text: t('.introduction', lien_aide: admin_aide_path),
             image: 'avatar_salut.png'
    end

    div class: 'panel' do
      attributes_table_for compte do
        row :prenom
        row :nom
        row :email
        row :telephone
        row :role
        row :created_at
      end
    end

    div class: 'panel' do
      attributes_table_for compte do
        row :structure
        row :statut_validation
      end
    end

    if can?(:manage, Compte)
      div class: 'panel' do
        attributes_table_for compte do
          row :sign_in_count
          row :current_sign_in_at
          row :last_sign_in_at
          row :current_sign_in_ip
          row :last_sign_in_ip
          row :confirmed_at
          row :confirmation_sent_at
        end
      end
    end
  end
end
